{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _s = $RefreshSig$();\n\nimport React from 'react';\n/**\n * Sets up Table of Contents highlighting. It requires that\n */\n\nexport function useTocHighlight(linkClassName, linkActiveClassName, topOffset, getHeaderAnchors, getHeaderDataFromAnchor, getAnchorHeaderIdentifier) {\n  _s();\n\n  var _React$useState = React.useState(undefined),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      lastActiveLink = _React$useState2[0],\n      setLastActiveLink = _React$useState2[1];\n\n  var _React$useState3 = React.useState([]),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      headings = _React$useState4[0],\n      setHeadings = _React$useState4[1];\n\n  React.useEffect(function () {\n    setHeadings(getHeaderAnchors().map(getHeaderDataFromAnchor));\n  }, [setHeadings]);\n  React.useEffect(function () {\n    var headersAnchors = [];\n    var links = [];\n\n    function setActiveLink() {\n      function getActiveHeaderAnchor() {\n        var index = 0;\n        var activeHeaderAnchor = null;\n        headersAnchors = getHeaderAnchors();\n\n        while (index < headersAnchors.length && !activeHeaderAnchor) {\n          var headerAnchor = headersAnchors[index];\n\n          var _headerAnchor$getBoun = headerAnchor.getBoundingClientRect(),\n              top = _headerAnchor$getBoun.top;\n\n          if (top >= 0 && top <= topOffset) {\n            activeHeaderAnchor = headerAnchor;\n          }\n\n          index += 1;\n        }\n\n        return activeHeaderAnchor;\n      }\n\n      var activeHeaderAnchor = getActiveHeaderAnchor();\n\n      if (activeHeaderAnchor) {\n        var index = 0;\n        var itemHighlighted = false;\n        links = document.getElementsByClassName(linkClassName);\n\n        while (index < links.length && !itemHighlighted) {\n          var link = links[index];\n          var href = link.href;\n          var anchorValue = decodeURIComponent(href.substring(href.indexOf('#') + 1));\n\n          if (getAnchorHeaderIdentifier(activeHeaderAnchor) === anchorValue) {\n            if (lastActiveLink) {\n              lastActiveLink.classList.remove(linkActiveClassName);\n            }\n\n            link.classList.add(linkActiveClassName);\n            setLastActiveLink(link);\n            itemHighlighted = true;\n          }\n\n          index += 1;\n        }\n      }\n    }\n\n    document.addEventListener('scroll', setActiveLink);\n    document.addEventListener('resize', setActiveLink);\n    setActiveLink();\n    return function () {\n      document.removeEventListener('scroll', setActiveLink);\n      document.removeEventListener('resize', setActiveLink);\n    };\n  });\n  return headings;\n}\n\n_s(useTocHighlight, \"9ZLxG+ARgE52OcpYHMTpKYe6iIk=\");","map":{"version":3,"sources":["/Users/kamell/Desktop/test-docs/src/components/useTocHighlight.js"],"names":["React","useTocHighlight","linkClassName","linkActiveClassName","topOffset","getHeaderAnchors","getHeaderDataFromAnchor","getAnchorHeaderIdentifier","useState","undefined","lastActiveLink","setLastActiveLink","headings","setHeadings","useEffect","map","headersAnchors","links","setActiveLink","getActiveHeaderAnchor","index","activeHeaderAnchor","length","headerAnchor","getBoundingClientRect","top","itemHighlighted","document","getElementsByClassName","link","href","anchorValue","decodeURIComponent","substring","indexOf","classList","remove","add","addEventListener","removeEventListener"],"mappings":"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","sourcesContent":["import React from 'react'\n\n/**\n * Sets up Table of Contents highlighting. It requires that\n */\nexport function useTocHighlight(\n  linkClassName,\n  linkActiveClassName,\n  topOffset,\n  getHeaderAnchors,\n  getHeaderDataFromAnchor,\n  getAnchorHeaderIdentifier\n) {\n  const [lastActiveLink, setLastActiveLink] = React.useState(undefined)\n  const [headings, setHeadings] = React.useState([])\n\n  React.useEffect(() => {\n    setHeadings(getHeaderAnchors().map(getHeaderDataFromAnchor))\n  }, [setHeadings])\n\n  React.useEffect(() => {\n    let headersAnchors = []\n    let links = []\n\n    function setActiveLink() {\n      function getActiveHeaderAnchor() {\n        let index = 0\n        let activeHeaderAnchor = null\n        headersAnchors = getHeaderAnchors()\n\n        while (index < headersAnchors.length && !activeHeaderAnchor) {\n          const headerAnchor = headersAnchors[index]\n          const { top } = headerAnchor.getBoundingClientRect()\n\n          if (top >= 0 && top <= topOffset) {\n            activeHeaderAnchor = headerAnchor\n          }\n\n          index += 1\n        }\n\n        return activeHeaderAnchor\n      }\n\n      const activeHeaderAnchor = getActiveHeaderAnchor()\n\n      if (activeHeaderAnchor) {\n        let index = 0\n        let itemHighlighted = false\n        links = document.getElementsByClassName(linkClassName)\n\n        while (index < links.length && !itemHighlighted) {\n          const link = links[index]\n          const { href } = link\n          const anchorValue = decodeURIComponent(\n            href.substring(href.indexOf('#') + 1)\n          )\n\n          if (getAnchorHeaderIdentifier(activeHeaderAnchor) === anchorValue) {\n            if (lastActiveLink) {\n              lastActiveLink.classList.remove(linkActiveClassName)\n            }\n\n            link.classList.add(linkActiveClassName)\n            setLastActiveLink(link)\n            itemHighlighted = true\n          }\n\n          index += 1\n        }\n      }\n    }\n\n    document.addEventListener('scroll', setActiveLink)\n    document.addEventListener('resize', setActiveLink)\n    setActiveLink()\n    return () => {\n      document.removeEventListener('scroll', setActiveLink)\n      document.removeEventListener('resize', setActiveLink)\n    }\n  })\n  return headings\n}\n"]},"metadata":{},"sourceType":"module"}